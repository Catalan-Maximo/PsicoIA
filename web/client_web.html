<!doctype html>
<html>
  <head><meta charset="utf-8"><title>PsicoIA Web</title></head>
  <body>
    <h1>PsicoIA WebSocket</h1>
    <div>
      <input id="msg" placeholder="Escribí acá..." />
      <button onclick="send()">Enviar</button>
    </div>
    <pre id="log" style="white-space: pre-wrap;"></pre>
    <script>
      const log = (t) => document.getElementById('log').textContent += t + "\n";
      const ws = new WebSocket("ws://localhost:8765");
      ws.onopen = () => log("WS conectado.");
      ws.onmessage = (e) => log(e.data);
      ws.onclose = () => log("WS cerrado.");
      function send(){
        const v = document.getElementById('msg').value;
        ws.send(v);
        document.getElementById('msg').value = "";
      }
    </script>
  </body>
</html>
